<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>居家用品 - 织梦商城模板-dedehtml.com</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <link rel="stylesheet" href="../res/layui/css/layui.css">
    <link rel="stylesheet" href="../res/static/css/index.css">
</head>
<body>
<div class="house-header">
    <div class="layui-container">
        <div class="house-nav">
              <span class="layui-breadcrumb memberinfo" lay-separator="|">
            <a href="../member/login.html" id="turnLogin"><label id="username_bar"></label></a>
            <a href ="" id="logout" >退出</a>
        </span>
            <span
                class="layui-breadcrumb house-breadcrumb-icon" lay-separator=" "><a id="search"><i
                class="layui-icon layui-icon-house-find"></i></a> <a href="../member/login.html"><i
                class="layui-icon layui-icon-username"></i></a> </span></div>
        <div class="house-banner layui-form"><a class="banner" href="../index.html"><img src="../res/static/img/logo.png"
                                                                             alt="商城"></a>
            <div class="layui-input-inline"><input type="text" placeholder="搜索好物" class="layui-input"><i
                    class="layui-icon layui-icon-house-find"></i></div>
            <a class="shop" href="../car/index.html"><i class="layui-icon layui-icon-house-shop"></i><span
                    class="layui-badge totalNum"></span></a></div>
        <ul class="layui-nav close">
            <li class="layui-nav-item"><a href="../index.html">首页</a></li>
            <li class="layui-nav-item layui-this"><a href="index.html">所有商品</a></li>

        </ul>
        <button id="switch"><span></span><span class="second"></span><span class="third"></span></button>
    </div>
</div>
<div class="layui-container house-list"><p class="classify"><a href='../index.html'>首页</a> > <a
        href='index.html'>所有商品</a> > </p>
    <div class="list-banner"></div>
    <div class="filter">
        <div><span>分类：</span>
            <ul id="type">
                <li class="active"><a>全部</a></li>
<!--                <li><a href="/house/list_1_type_0.html">床品</a></li>-->
<!--                <li><a href="/house/list_1_type_1.html">灯具</a></li>-->
<!--                <li><a href="/house/list_1_type_2.html">布艺</a></li>-->
<!--                <li><a href="/house/list_1_type_3.html">收纳</a></li>-->
<!--                <li><a href="/house/list_1_type_4.html">小家具</a></li>-->
            </ul>
        </div>
<!--        <div><span>季节：</span>-->
<!--            <ul>-->
<!--                <li class="active"><a>全部</a></li>-->
<!--                <li><a href="/house/list_1_season_0.html">春</a></li>-->
<!--                <li><a href="/house/list_1_season_1.html">夏</a></li>-->
<!--                <li><a href="/house/list_1_season_2.html">秋</a></li>-->
<!--                <li><a href="/house/list_1_season_3.html">冬</a></li>-->
<!--            </ul>-->
<!--        </div>-->
<!--        <div><span>排序：</span>-->
<!--            <ul>-->
<!--                <li class="active">默认</li>-->
<!--                <li>价格<i class="layui-icon layui-icon-house-up"></i><i class="layui-icon layui-icon-triangle-d"></i>-->
<!--                </li>-->
<!--                <li>上架时间<i class="layui-icon layui-icon-house-up"></i><i class="layui-icon layui-icon-triangle-d"></i>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </div>-->
    </div>
    <div class="layui-row layui-col-space25" id="goodItems">

    </div>
    <div id="houseList">
        <div class="layui-box layui-laypage layui-laypage-molv"><span class="layui-laypage-curr"><em
                class="layui-laypage-em" style="background-color:#daba91;"></em>
            <em>1</em>
        </span>
<!--            <a href='list_1_2.html'>2</a><a href='list_1_2.html' class="layui-laypage-next">下一页</a>-->
        </div>
    </div>
</div>
<div class="house-footer">
    <div class="layui-container">
        <div class="intro"><span class="first"><i class="layui-icon layui-icon-house-shield"></i>7天无理由退换货</span> <span
                class="second"><i class="layui-icon layui-icon-house-car"></i>满99元全场包邮</span> <span class="third"><i
                class="layui-icon layui-icon-house-diamond"></i>100%品质保证</span> <span class="last"><i
                class="layui-icon layui-icon-house-tel"></i>客服400-8888-866</span></div>
        <div class="about"><span class="layui-breadcrumb" lay-separator="|"><a href="/about.html">关于我们</a><a
                href="/help.html">帮助中心</a><a href="/service.html">售后服务</a><a href="/delivery.html">配送服务</a><a
                href="/supply.html">关于货源</a></span>
            <p>织梦商城模板 版权所有 &copy; 2012-2020</p></div>
    </div>
</div>
<script src="../res/layui/layui.js"></script>
<script>
    layui.use(['jquery', 'layer'], function () {
        var $ = layui.jquery,
            layer = layui.layer
        $(document).ready(function () {
            $.ajax({
                url: "../../goodsController/Action/",
                data: {action:"getAllGoods"},
                type: "get",
                dataType: "json",
                success: function (data) {
                    let good_data = data.data;
                    if (data.code == 0) {
                        for (var i = 0; i < data.count; i++) {
                            var goodItem=" <div class=\"layui-col-xs6 layui-col-sm3\">\n" +
                                "            <div class=\"list-detail\">\n" +
                                "                <div class=\"img\"><img width='200px' height='350px' src=" + good_data[i]["cover"] + "></div>\n" +
                                "                <p class=\"title\">"+"<a href=" + "../goods/detail.html?good_id=" +good_data[i]["id"]+">"+good_data[i]["name"]+"</a></p>" +
                                "                <p><span class=\"price\">￥"+good_data[i]["price"]+"</span><span>库存:</span>"+good_data[i]['num']+"</p></div>\n" +
                                "        </div>";
                            $("#goodItems").append(goodItem);
                        }
                    }
                }
            });

            $.ajax({
                url: "../../typeController/Action/",
                data: {action:"getAllType"},
                type: "get",
                dataType: "json",
                success: function(data){
                    let type=data.data;
                    if(data.code==0){
                        for (var i = 0; i < data.count; i++) {
                            var typeItem="<li><a href=\"#\" onclick='getTypeById(" +
                                type[i]['id']+")'>" +
                                type[i]['name']+"</a></li>";
                            $("#type").append(typeItem);
                        }
                    }
                }
            })

        });

    });

    function getTypeById(type_id){
        var $=layui.jquery;
        //document.getElementById("goodItems").innerHTML = "";
         $("#goodItems").empty();
         $.ajax({
             url: "../../goodsController/Action/",
             data: {action:"getGoodsByType",type_id:type_id},
             type: "get",
             dataType: "json",
             success: function (data) {
                 let good_data = data.data;
                 if (data.code == 0) {
                     for (var i = 0; i < data.count; i++) {
                         var goodItem=" <div class=\"layui-col-xs6 layui-col-sm3\">\n" +
                             "            <div class=\"list-detail\">\n" +
                             "                <div class=\"img\"><img width='200px' height='350px' src=" + good_data[i]["cover"] + "></div>\n" +
                             "                <p class=\"title\">"+"<a href=" + "../goods/detail.html?good_id=" +good_data[i]["id"]+">"+good_data[i]["name"]+"</a></p>" +
                             "                <p><span class=\"price\">￥"+good_data[i]["price"]+"</span><span>库存:</span>"+good_data[i]['num']+"</p></div>\n" +
                             "        </div>";
                         $("#goodItems").append(goodItem);
                     }
                 }
             }
         })
    }
</script>
<script>layui.config({base: "../res/static/js/"}).use("house")</script>
</body>
</html>